SET(LIBRARY_DIR ${CMAKE_CURRENT_SOURCE_DIR})
INCLUDE_DIRECTORIES(BEFORE ${LIBRARY_DIR} "${LIBRARY_DIR}/cpr")

SET(HEADER_DIR "${CMAKE_CURRENT_SOURCE_DIR}/include")
INCLUDE_DIRECTORIES(BEFORE ${LIBRARY_DIR} "${HEADER_DIR}/cpr")

SET(Sources
        "${LIBRARY_DIR}/cpr/accept_encoding.cpp"
        "${LIBRARY_DIR}/cpr/async.cpp"
        "${LIBRARY_DIR}/cpr/auth.cpp"
        "${LIBRARY_DIR}/cpr/callback.cpp"
        "${LIBRARY_DIR}/cpr/cert_info.cpp"
        "${LIBRARY_DIR}/cpr/cookies.cpp"
        "${LIBRARY_DIR}/cpr/cprtypes.cpp"
        "${LIBRARY_DIR}/cpr/curl_container.cpp"
        "${LIBRARY_DIR}/cpr/curlholder.cpp"
        "${LIBRARY_DIR}/cpr/curlmultiholder.cpp"
        "${LIBRARY_DIR}/cpr/error.cpp"
        "${LIBRARY_DIR}/cpr/file.cpp"
        "${LIBRARY_DIR}/cpr/interceptor.cpp"
        "${LIBRARY_DIR}/cpr/multipart.cpp"
        "${LIBRARY_DIR}/cpr/multiperform.cpp"
        "${LIBRARY_DIR}/cpr/parameters.cpp"
        "${LIBRARY_DIR}/cpr/payload.cpp"
        "${LIBRARY_DIR}/cpr/proxies.cpp"
        "${LIBRARY_DIR}/cpr/proxyauth.cpp"
        "${LIBRARY_DIR}/cpr/redirect.cpp"
        "${LIBRARY_DIR}/cpr/response.cpp"
        "${LIBRARY_DIR}/cpr/session.cpp"
        "${LIBRARY_DIR}/cpr/ssl_ctx.cpp"
        "${LIBRARY_DIR}/cpr/threadpool.cpp"
        "${LIBRARY_DIR}/cpr/timeout.cpp"
        "${LIBRARY_DIR}/cpr/unix_socket.cpp"
        "${LIBRARY_DIR}/cpr/util.cpp")

        SET(Headers
        "${HEADER_DIR}/cpr/accept_encoding.h"
        "${HEADER_DIR}/cpr/api.h"
        "${HEADER_DIR}/cpr/async.h"
        "${HEADER_DIR}/cpr/async_wrapper.h"
        "${HEADER_DIR}/cpr/auth.h"
        "${HEADER_DIR}/cpr/bearer.h"
        "${HEADER_DIR}/cpr/body.h"
        "${HEADER_DIR}/cpr/buffer.h"
        "${HEADER_DIR}/cpr/callback.h"
        "${HEADER_DIR}/cpr/cert_info.h"
        "${HEADER_DIR}/cpr/connect_timeout.h"
        "${HEADER_DIR}/cpr/cookies.h"
        "${HEADER_DIR}/cpr/cpr.h"
        "${HEADER_DIR}/cpr/cprtypes.h"
        "${HEADER_DIR}/cpr/curl_container.h"
        "${HEADER_DIR}/cpr/curlholder.h"
        "${HEADER_DIR}/cpr/curlmultiholder.h"
        "${HEADER_DIR}/cpr/error.h"
        "${HEADER_DIR}/cpr/file.h"
        "${HEADER_DIR}/cpr/filesystem.h"
        "${HEADER_DIR}/cpr/http_version.h"
        "${HEADER_DIR}/cpr/interceptor.h"
        "${HEADER_DIR}/cpr/interface.h"
        "${HEADER_DIR}/cpr/limit_rate.h"
        "${HEADER_DIR}/cpr/local_port.h"
        "${HEADER_DIR}/cpr/local_port_range.h"
        "${HEADER_DIR}/cpr/low_speed.h"
        "${HEADER_DIR}/cpr/multipart.h"
        "${HEADER_DIR}/cpr/multiperform.h"
        "${HEADER_DIR}/cpr/parameters.h"
        "${HEADER_DIR}/cpr/payload.h"
        "${HEADER_DIR}/cpr/proxies.h"
        "${HEADER_DIR}/cpr/proxyauth.h"
        "${HEADER_DIR}/cpr/range.h"
        "${HEADER_DIR}/cpr/redirect.h"
        "${HEADER_DIR}/cpr/reserve_size.h"
        "${HEADER_DIR}/cpr/response.h"
        "${HEADER_DIR}/cpr/resolve.h"
        "${HEADER_DIR}/cpr/session.h"
        "${HEADER_DIR}/cpr/singleton.h"
        "${HEADER_DIR}/cpr/ssl_ctx.h"
        "${HEADER_DIR}/cpr/ssl_options.h"
        "${HEADER_DIR}/cpr/status_codes.h"
        "${HEADER_DIR}/cpr/threadpool.h"
        "${HEADER_DIR}/cpr/timeout.h"
        "${HEADER_DIR}/cpr/unix_socket.h"
        "${HEADER_DIR}/cpr/user_agent.h"
        "${HEADER_DIR}/cpr/util.h"
        "${HEADER_DIR}/cpr/verbose.h")

add_library(cpr ${Sources} ${Headers})
target_include_directories(cpr PUBLIC ${HEADER_DIR})
target_link_libraries(cpr PUBLIC _curl)
